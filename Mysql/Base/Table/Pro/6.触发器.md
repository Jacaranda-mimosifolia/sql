### 1. 触发器操作
```
# 触发器是与表相关的数据库对象
# 语句级触发器：每一条语句触发一次
# 行级触发器：语句影响一行触发一次

# new:执行后的数据
# old:执行前的数据

# 创建
CREATE TRIGGER trigger_name
BEFORE/AFTER INSERT/UPDATE/DELETE  -- 执行前/执行后 语句类型
ON table_name FOR EACH ROW  -- 指定数据表 行触发器
BEGIN
    trigger_stmt;
END;

# 查看
SHOW TRIGGERS;

# 删除
DROP TRIGGER [schema_name.]trigger_name;
```

### 2. insert 触发器
```
create trigger tb_user_insert_trigger
    after insert on tb_user for each row
begin 
    insert into user_logs(id, operation, operate_time, operate_id,operate_params) VALUES 
    (null, 'insert', now(), new.id, concat('插入内容：id=',new.id,',name=',new.name,',phone=',new.phone))
end;
```

### 3. update 触发器
```
create trigger tb_user_update_trigger
    after update on tb_user for each row
begin 
    insert into user_logs(id, operation, operate_time, operate_id,operate_params) VALUES 
    (null, 'insert', now(), new.id, 
        concat('更新之前数据：id=',old.id,',name=',old.name,',phone=',old.phone,
            ' | 更新之后数据：id=',new.id,',name=',new.name,',phone=',new.phone))
end;
```

### 4. delete 触发器
```
create trigger tb_user_delete_trigger
    after delete on tb_user for each row
begin 
    insert into user_logs(id, operation, operate_time, operate_id,operate_params) VALUES 
    (null, 'insert', now(), old.id, concat('删除之前数据：id=',old.id,',name=',old.name,',phone=',old.phone)
end;
```
