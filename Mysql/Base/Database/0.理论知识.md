## 理论知识

### 范式
```
1NF(第一范式)：属性不可再分。(存在列表、重复等复合结构的属性，违反属性的原子性：不可再分)
2NF(第二范式)：1NF 的基础之上，消除了非主属性对于码的部分函数依赖。 (部分依赖，主键{A,B},存在A->C,而缺少B->C)
3NF(第三范式)：3NF 在 2NF 的基础之上，消除了非主属性对于码的传递函数依赖。(传递依赖，B->A、C->B,则存在C->A)

一、1NF 的更多例子（不是只有“逗号列表”）
例 1：一个字段存“复合结构”
Address(user_id, address)
address 存：“广东省-深圳市-南山区-xxx路xx号”
这不是严格意义的原子（省/市/区/详细地址混一起）
改法：拆为 province/city/district/detail

例 2：重复组（同一行重复列）
Student(id, name, phone1, phone2, phone3)
这是典型 1NF 问题（重复组）
改法：StudentPhone(id, phone) 一人多手机号多行表示

二、2NF 的更多例子（联合主键 + 部分依赖）
例 1：订单明细（典型真实系统）
OrderItem(order_id, product_id, product_name, unit_price, qty)
主键 (order_id, product_id)
函数依赖：
product_id → product_name（只依赖 product_id）不满足 2NF
(order_id, product_id) → qty（依赖组合）
unit_price:
若是“商品当前价”→ Product
若是“下单时成交价”→ OrderItem（因为它依赖 order_id + product_id）
改法：
Product(product_id, product_name, unit_price)
OrderItem(order_id, product_id, qty)

例 2：学生选课表里塞了课程学分
Enroll(student_id, course_id, credit, grade)
主键 (student_id, course_id)
函数依赖：
course_id → credit（部分依赖）不满足 2NF
(student_id, course_id) → grade（依赖组合）
改法：
Course(course_id, credit)
Enroll(student_id, course_id, grade)

三、3NF 的更多例子（传递依赖，不止“多对一冗余字段”）
例 1：邮编推城市（同一张表也能发生）
Customer(cust_id, name, zipcode, city, province)
业务规则：
zipcode → city, province
cust_id → zipcode
于是：
cust_id → city，province 是通过 zipcode 传递来的
→ 违反 3NF
改法：
Customer(cust_id, name, zipcode)
Zipcode(zipcode, city, province)

例 2：商品表里放了供应商名（供应商 ID 推供应商名）
Product(product_id, supplier_id, supplier_name, price)
supplier_id → supplier_name
product_id → supplier_id
product_id → supplier_name 传递依赖 → 违反 3NF
改法：
Supplier(supplier_id, supplier_name)
Product(product_id, supplier_id, price)

例 3：订单表里放了客户等级描述
Orders(order_id, customer_id, level_code, level_name)
level_code → level_name
customer_id → level_code（客户决定等级）
order_id → customer_id
所以 order_id → level_name 是传递依赖（order→customer→level_code→level_name）
改法：
Customer(customer_id, level_code)
Level(level_code, level_name)
Orders(order_id, customer_id, ...)

数据库设计步骤
需求分析 : 分析用户的需求，包括数据、功能和性能需求。
概念结构设计 : 主要采用 E-R 模型进行设计，包括画 E-R 图。
逻辑结构设计 : 通过将 E-R 图转换成表，实现从 E-R 模型到关系模型的转换。
物理结构设计 : 主要是为所设计的数据库选择合适的存储结构和存取路径。
数据库实施 : 包括编程、测试和试运行。
数据库的运行和维护 : 系统的运行与数据库的日常维护。
```
