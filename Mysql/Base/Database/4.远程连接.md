## 远程连接

1. MySQL 服务监听外网 IP
2. 3306 端口对外开放
3. 存在允许远程的账号（user@host）
4. 防火墙 / 安全组放行 3306
5. 客户端能连通服务器 IP

### 1.修改 MySQL 配置文件
```
C:\ProgramData\MySQL\MySQL Server 8.0\my.ini

# 添加
[mysqld]
bind-address = 0.0.0.0
port = 3306
-------------------------
0.0.0.0 = 监听所有网卡
如果是 127.0.0.1 → 只能本机连（远程必失败）

# 重启mysql服务
net stop mysql
net start mysql
```

### 2. 远程用户
```
# 'test'@'%'允许任意IP访问，'test'@'指定IP'
CREATE USER 'test'@'%' IDENTIFIED BY '000000';
GRANT SELECT ON *.* TO 'test'@'%';
```

### 3. 防火墙配置
Windows 防火墙
控制面板 → Windows Defender 防火墙
高级设置 → 入站规则
新建规则 → 端口 → TCP → 3306 → 允许

云服务器（阿里云 / 腾讯云 / AWS）
安全组中放行 TCP 3306
否则防火墙放了也没用

### MySQL 登录流程是：
1️⃣ 客户端发起连接；SELECT USER();登录使用
```
test@192.168.203.100
```
2️⃣ MySQL 在 mysql.user 中匹配；SELECT CURRENT_USER();实际权限校验
```
test@192.168.203.100
test@%
```
3️⃣ 选择 最精确匹配 的账号
4️⃣ 用它做权限判断